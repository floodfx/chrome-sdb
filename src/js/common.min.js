(function(){var Profile;
Profile=function(){function b(a,c){this.name=a;this.settings=c}b.prototype.use_name=function(a){this.name=a;return this};b.prototype.use_settings=function(a){this.settings=a;return this};b.prototype.get_name=function(){return this.name};b.prototype.get_settings=function(){return this.settings};b.prototype.make_primary=function(){Storage.set("chrome-sdb.primary-profile",this.name);return this};b.prototype.save=function(a){var c,f,i,e,g;if(a==null)a=false;i=b.find_all();c=false;e=0;for(g=i.length;e<
g;e++){f=i[e];if(this.name===f.get_name()){f.use_settings(this.settings);c=true}}c||i.push(this);Storage.set("chrome-sdb.profiles",b.profiles_json(i),true);if(b.primary()===null||a)this.make_primary();return this};b.prototype["delete"]=function(){b["delete"](this.name);return null};b.prototype.to_json=function(){return{name:this.name,settings:this.settings.to_json()}};b.primary=function(){var a;a=Storage.get("chrome-sdb.primary-profile");return b.find(a)};b.from_json=function(a){return a?new b(a.name,
Settings.from_json(a.settings)):null};b.find_all=function(){var a,c,f,i;c=(i=Storage.get("chrome-sdb.profiles",true))!=null?i:{};return function(){var e;e=[];for(a in c){f=c[a];e.push(new b(a,Settings.from_json(f)))}return e}()};b.find=function(a){var c,f,i,e;f=b.find_all();i=0;for(e=f.length;i<e;i++){c=f[i];if(c.get_name()===a)return c}return null};b.profiles_json=function(a){var c,f,i,e;f={};i=0;for(e=a.length;i<e;i++){c=a[i];f[c.get_name()]=c.get_settings().to_json()}return f};b.delete_all=function(){return Storage.set("chrome-sdb.profiles",
{},true)};b["delete"]=function(a){var c,f,i,e;i=b.find_all();f=[];c=0;for(e=i.length;0<=e?c<e:c>e;0<=e?c++:c--)i[c].get_name()!==a&&f.push(i[c]);return Storage.set("chrome-sdb.profiles",b.profiles_json(f),true)};return b}();
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan",
"Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,
feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,
tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",
PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(b){var a=Date.CultureInfo.monthNames,c=Date.CultureInfo.abbreviatedMonthNames;b=b.toLowerCase();for(var f=0;f<a.length;f++)if(a[f].toLowerCase()==b||c[f].toLowerCase()==b)return f;return-1};
Date.getDayNumberFromName=function(b){var a=Date.CultureInfo.dayNames,c=Date.CultureInfo.abbreviatedDayNames;b=b.toLowerCase();for(var f=0;f<a.length;f++)if(a[f].toLowerCase()==b||c[f].toLowerCase()==b)return f;return-1};Date.isLeapYear=function(b){return b%4===0&&b%100!==0||b%400===0};Date.getDaysInMonth=function(b,a){return[31,Date.isLeapYear(b)?29:28,31,30,31,30,31,31,30,31,30,31][a]};Date.getTimezoneOffset=function(b,a){return a?Date.CultureInfo.abbreviatedTimeZoneDST[b.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[b.toUpperCase()]};
Date.getTimezoneAbbreviation=function(b,a){var c=a?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,f;for(f in c)if(c[f]===b)return f;return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(b){if(isNaN(this))throw Error(this);if(b instanceof Date&&!isNaN(b))return this>b?1:this<b?-1:0;else throw new TypeError(b);};Date.prototype.equals=function(b){return this.compareTo(b)===0};
Date.prototype.between=function(b,a){var c=this.getTime();return c>=b.getTime()&&c<=a.getTime()};Date.prototype.addMilliseconds=function(b){this.setMilliseconds(this.getMilliseconds()+b);return this};Date.prototype.addSeconds=function(b){return this.addMilliseconds(b*1E3)};Date.prototype.addMinutes=function(b){return this.addMilliseconds(b*6E4)};Date.prototype.addHours=function(b){return this.addMilliseconds(b*36E5)};Date.prototype.addDays=function(b){return this.addMilliseconds(b*864E5)};
Date.prototype.addWeeks=function(b){return this.addMilliseconds(b*6048E5)};Date.prototype.addMonths=function(b){var a=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+b);this.setDate(Math.min(a,this.getDaysInMonth()));return this};Date.prototype.addYears=function(b){return this.addMonths(b*12)};
Date.prototype.add=function(b){if(typeof b=="number"){this._orient=b;return this}if(b.millisecond||b.milliseconds)this.addMilliseconds(b.millisecond||b.milliseconds);if(b.second||b.seconds)this.addSeconds(b.second||b.seconds);if(b.minute||b.minutes)this.addMinutes(b.minute||b.minutes);if(b.hour||b.hours)this.addHours(b.hour||b.hours);if(b.month||b.months)this.addMonths(b.month||b.months);if(b.year||b.years)this.addYears(b.year||b.years);if(b.day||b.days)this.addDays(b.day||b.days);return this};
Date._validate=function(b,a,c,f){if(typeof b!="number")throw new TypeError(b+" is not a Number.");else if(b<a||b>c)throw new RangeError(b+" is not a valid value for "+f+".");return true};Date.validateMillisecond=function(b){return Date._validate(b,0,999,"milliseconds")};Date.validateSecond=function(b){return Date._validate(b,0,59,"seconds")};Date.validateMinute=function(b){return Date._validate(b,0,59,"minutes")};Date.validateHour=function(b){return Date._validate(b,0,23,"hours")};
Date.validateDay=function(b,a,c){return Date._validate(b,1,Date.getDaysInMonth(a,c),"days")};Date.validateMonth=function(b){return Date._validate(b,0,11,"months")};Date.validateYear=function(b){return Date._validate(b,1,9999,"seconds")};
Date.prototype.set=function(b){if(!b.millisecond&&b.millisecond!==0)b.millisecond=-1;if(!b.second&&b.second!==0)b.second=-1;if(!b.minute&&b.minute!==0)b.minute=-1;if(!b.hour&&b.hour!==0)b.hour=-1;if(!b.day&&b.day!==0)b.day=-1;if(!b.month&&b.month!==0)b.month=-1;if(!b.year&&b.year!==0)b.year=-1;b.millisecond!=-1&&Date.validateMillisecond(b.millisecond)&&this.addMilliseconds(b.millisecond-this.getMilliseconds());b.second!=-1&&Date.validateSecond(b.second)&&this.addSeconds(b.second-this.getSeconds());
b.minute!=-1&&Date.validateMinute(b.minute)&&this.addMinutes(b.minute-this.getMinutes());b.hour!=-1&&Date.validateHour(b.hour)&&this.addHours(b.hour-this.getHours());b.month!==-1&&Date.validateMonth(b.month)&&this.addMonths(b.month-this.getMonth());b.year!=-1&&Date.validateYear(b.year)&&this.addYears(b.year-this.getFullYear());b.day!=-1&&Date.validateDay(b.day,this.getFullYear(),this.getMonth())&&this.addDays(b.day-this.getDate());b.timezone&&this.setTimezone(b.timezone);b.timezoneOffset&&this.setTimezoneOffset(b.timezoneOffset);
return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var b=this.getFullYear();return b%4===0&&b%100!==0||b%400===0};Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};
Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(b,a){var c=(b-this.getDay()+7*(a||+1))%7;return this.addDays(c===0?c+=7*(a||+1):c)};Date.prototype.moveToMonth=function(b,a){var c=(b-this.getMonth()+12*(a||+1))%12;return this.addMonths(c===0?c+=12*(a||+1):c)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864E5)};
Date.prototype.getWeekOfYear=function(b){var a=this.getFullYear(),c=this.getMonth(),f=this.getDate();b=b||Date.CultureInfo.firstDayOfWeek;var i=8-(new Date(a,0,1)).getDay();if(i==8)i=1;c=(Date.UTC(a,c,f,0,0,0)-Date.UTC(a,0,1,0,0,0))/864E5+1;c=Math.floor((c-i+7)/7);if(c===b){a--;a=8-(new Date(a,0,1)).getDay();c=a==2||a==8?53:52}return c};Date.prototype.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};
Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(b){var a=this.getTimezoneOffset();this.addMinutes(Number(b)*-6/10-a);return this};Date.prototype.setTimezone=function(b){return this.setTimezoneOffset(Date.getTimezoneOffset(b))};Date.prototype.getUTCOffset=function(){var b=this.getTimezoneOffset()*-10/6;if(b<0){b=(b-1E4).toString();return b[0]+b.substr(2)}else{b=(b+1E4).toString();return"+"+b.substr(1)}};
Date.prototype.getDayName=function(b){return b?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(b){return b?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;
Date.prototype.toString=function(b){var a=this,c=function(f){return f.toString().length==1?"0"+f:f};return b?b.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(f){switch(f){case "hh":return c(a.getHours()<13?a.getHours():a.getHours()-12);case "h":return a.getHours()<13?a.getHours():a.getHours()-12;case "HH":return c(a.getHours());case "H":return a.getHours();case "mm":return c(a.getMinutes());case "m":return a.getMinutes();case "ss":return c(a.getSeconds());case "s":return a.getSeconds();
case "yyyy":return a.getFullYear();case "yy":return a.getFullYear().toString().substring(2,4);case "dddd":return a.getDayName();case "ddd":return a.getDayName(true);case "dd":return c(a.getDate());case "d":return a.getDate().toString();case "MMMM":return a.getMonthName();case "MMM":return a.getMonthName(true);case "MM":return c(a.getMonth()+1);case "M":return a.getMonth()+1;case "t":return a.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case "tt":return a.getHours()<
12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case "zzz":case "zz":case "z":return""}}):this._toString()};Date.now=function(){return new Date};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=+1;Date.prototype.next=function(){this._orient=+1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=false;Date.prototype.is=function(){this._is=true;return this};
Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var b={};b[this._dateElement]=this;return Date.now().add(b)};Number.prototype.ago=function(){var b={};b[this._dateElement]=this*-1;return Date.now().add(b)};
(function(){for(var b=Date.prototype,a=Number.prototype,c="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),f="january february march april may june july august september october november december".split(/\s/),i="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),e=function(d){return function(){if(this._is){this._is=false;return this.getDay()==d}return this.moveToDayOfWeek(d,this._orient)}},g=0;g<c.length;g++)b[c[g]]=b[c[g].substring(0,3)]=e(g);c=function(d){return function(){if(this._is){this._is=
false;return this.getMonth()===d}return this.moveToMonth(d,this._orient)}};for(e=0;e<f.length;e++)b[f[e]]=b[f[e].substring(0,3)]=c(e);c=function(d){return function(){if(d.substring(d.length-1)!="s")d+="s";return this["add"+d](this._orient)}};e=function(d){return function(){this._dateElement=d;return this}};for(g=0;g<i.length;g++){f=i[g].toLowerCase();b[f]=b[f+"s"]=c(i[g]);a[f]=a[f+"s"]=e(f)}})();Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};
Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};
Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};
(function(){Date.Parsing={Exception:function(e){this.message="Parse error at '"+e.substring(0,10)+" ...'"}};for(var b=Date.Parsing,a=b.Operators={rtoken:function(e){return function(g){var d=g.match(e);if(d)return[d[0],g.substring(d[0].length)];else throw new b.Exception(g);}},token:function(){return function(e){return a.rtoken(RegExp("^s*"+e+"s*"))(e)}},stoken:function(e){return a.rtoken(RegExp("^"+e))},until:function(e){return function(g){for(var d=[],h=null;g.length;){try{h=e.call(this,g)}catch(j){d.push(h[0]);
g=h[1];continue}break}return[d,g]}},many:function(e){return function(g){for(var d=[],h=null;g.length;){try{h=e.call(this,g)}catch(j){return[d,g]}d.push(h[0]);g=h[1]}return[d,g]}},optional:function(e){return function(g){var d=null;try{d=e.call(this,g)}catch(h){return[null,g]}return[d[0],d[1]]}},not:function(e){return function(g){try{e.call(this,g)}catch(d){return[null,g]}throw new b.Exception(g);}},ignore:function(e){return e?function(g){var d=null;d=e.call(this,g);return[null,d[1]]}:null},product:function(){for(var e=
arguments[0],g=Array.prototype.slice.call(arguments,1),d=[],h=0;h<e.length;h++)d.push(a.each(e[h],g));return d},cache:function(e){var g={},d=null;return function(h){try{d=g[h]=g[h]||e.call(this,h)}catch(j){d=g[h]=j}if(d instanceof b.Exception)throw d;else return d}},any:function(){var e=arguments;return function(g){for(var d=null,h=0;h<e.length;h++)if(e[h]!=null){try{d=e[h].call(this,g)}catch(j){d=null}if(d)return d}throw new b.Exception(g);}},each:function(){var e=arguments;return function(g){for(var d=
[],h=null,j=0;j<e.length;j++)if(e[j]!=null){try{h=e[j].call(this,g)}catch(o){throw new b.Exception(g);}d.push(h[0]);g=h[1]}return[d,g]}},all:function(){var e=e;return e.each(e.optional(arguments))},sequence:function(e,g,d){g=g||a.rtoken(/^\s*/);d=d||null;if(e.length==1)return e[0];return function(h){for(var j=null,o=null,t=[],u=0;u<e.length;u++){try{j=e[u].call(this,h)}catch(s){break}t.push(j[0]);try{o=g.call(this,j[1])}catch(l){o=null;break}h=o[1]}if(!j)throw new b.Exception(h);if(o)throw new b.Exception(o[1]);
if(d)try{j=d.call(this,j[1])}catch(m){throw new b.Exception(j[1]);}return[t,j?j[1]:h]}},between:function(e,g,d){d=d||e;var h=a.each(a.ignore(e),g,a.ignore(d));return function(j){j=h.call(this,j);return[[j[0][0],r[0][2]],j[1]]}},list:function(e,g,d){g=g||a.rtoken(/^\s*/);d=d||null;return e instanceof Array?a.each(a.product(e.slice(0,-1),a.ignore(g)),e.slice(-1),a.ignore(d)):a.each(a.many(a.each(e,a.ignore(g))),px,a.ignore(d))},set:function(e,g,d){g=g||a.rtoken(/^\s*/);d=d||null;return function(h){var j=
null;for(var o=j=null,t=null,u=[[],h],s=false,l=0;l<e.length;l++){j=o=null;s=e.length==1;try{j=e[l].call(this,h)}catch(m){continue}t=[[j[0]],j[1]];if(j[1].length>0&&!s)try{o=g.call(this,j[1])}catch(n){s=true}else s=true;if(!s&&o[1].length===0)s=true;if(!s){j=[];for(s=0;s<e.length;s++)l!=s&&j.push(e[s]);j=a.set(j,g).call(this,o[1]);if(j[0].length>0){t[0]=t[0].concat(j[0]);t[1]=j[1]}}if(t[1].length<u[1].length)u=t;if(u[1].length===0)break}if(u[0].length===0)return u;if(d){try{o=d.call(this,u[1])}catch(k){throw new b.Exception(u[1]);
}u[1]=o[1]}return u}},forward:function(e,g){return function(d){return e[g].call(this,d)}},replace:function(e,g){return function(d){d=e.call(this,d);return[g,d[1]]}},process:function(e,g){return function(d){d=e.call(this,d);return[g.call(this,d[0]),d[1]]}},min:function(e,g){return function(d){var h=g.call(this,d);if(h[0].length<e)throw new b.Exception(d);return h}}},c=function(e){return function(){var g=null,d=[];if(arguments.length>1)g=Array.prototype.slice.call(arguments);else if(arguments[0]instanceof
Array)g=arguments[0];if(g)for(var h=g.shift();0<h.length;){g.unshift(h[0]);d.push(e.apply(null,g));g.shift();return d}else return e.apply(null,arguments)}},f="optional not ignore cache".split(/\s/),i=0;i<f.length;i++)a[f[i]]=c(a[f[i]]);c=function(e){return function(){return arguments[0]instanceof Array?e.apply(null,arguments[0]):e.apply(null,arguments)}};f="each any all".split(/\s/);for(i=0;i<f.length;i++)a[f[i]]=c(a[f[i]])})();
(function(){var b=function(d){for(var h=[],j=0;j<d.length;j++)if(d[j]instanceof Array)h=h.concat(b(d[j]));else d[j]&&h.push(d[j]);return h};Date.Grammar={};Date.Translator={hour:function(d){return function(){this.hour=Number(d)}},minute:function(d){return function(){this.minute=Number(d)}},second:function(d){return function(){this.second=Number(d)}},meridian:function(d){return function(){this.meridian=d.slice(0,1).toLowerCase()}},timezone:function(d){return function(){var h=d.replace(/[^\d\+\-]/g,
"");if(h.length)this.timezoneOffset=Number(h);else this.timezone=d.toLowerCase()}},day:function(d){var h=d[0];return function(){this.day=Number(h.match(/\d+/)[0])}},month:function(d){return function(){this.month=d.length==3?Date.getMonthNumberFromName(d):Number(d)-1}},year:function(d){return function(){var h=Number(d);this.year=d.length>2?h:h+(h+2E3<Date.CultureInfo.twoDigitYearMax?2E3:1900)}},rday:function(d){return function(){switch(d){case "yesterday":this.days=-1;break;case "tomorrow":this.days=
1;break;case "today":this.days=0;break;case "now":this.days=0;this.now=true;break}}},finishExact:function(d){d=d instanceof Array?d:[d];var h=new Date;this.year=h.getFullYear();this.month=h.getMonth();this.day=1;for(h=this.second=this.minute=this.hour=0;h<d.length;h++)d[h]&&d[h].call(this);this.hour=this.meridian=="p"&&this.hour<13?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");d=new Date(this.year,this.month,
this.day,this.hour,this.minute,this.second);if(this.timezone)d.set({timezone:this.timezone});else this.timezoneOffset&&d.set({timezoneOffset:this.timezoneOffset});return d},finish:function(d){d=d instanceof Array?b(d):[d];if(d.length===0)return null;for(var h=0;h<d.length;h++)typeof d[h]=="function"&&d[h].call(this);if(this.now)return new Date;d=Date.today();if(this.days!=null||this.orient||this.operator){var j,o;o=this.orient=="past"||this.operator=="subtract"?-1:1;if(this.weekday){this.unit="day";
h=Date.getDayNumberFromName(this.weekday)-d.getDay();j=7;this.days=h?(h+o*j)%j:o*j}if(this.month){this.unit="month";h=this.month-d.getMonth();j=12;this.months=h?(h+o*j)%j:o*j;this.month=null}if(!this.unit)this.unit="day";if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value)this.value=1;if(this.unit=="week"){this.unit="day";this.value*=7}this[this.unit+"s"]=this.value*o}return d.add(this)}else{if(this.meridian&&this.hour)this.hour=this.hour<13&&this.meridian=="p"?this.hour+12:this.hour;
if(this.weekday&&!this.day)this.day=d.addDays(Date.getDayNumberFromName(this.weekday)-d.getDay()).getDate();if(this.month&&!this.day)this.day=1;return d.set(this)}}};var a=Date.Parsing.Operators,c=Date.Grammar,f=Date.Translator,i;c.datePartDelimiter=a.rtoken(/^([\s\-\.\,\/\x27]+)/);c.timePartDelimiter=a.stoken(":");c.whiteSpace=a.rtoken(/^\s*/);c.generalDelimiter=a.rtoken(/^(([\s\,]|at|on)+)/);var e={};c.ctoken=function(d){var h=e[d];if(!h){h=Date.CultureInfo.regexPatterns;for(var j=d.split(/\s+/),
o=[],t=0;t<j.length;t++)o.push(a.replace(a.rtoken(h[j[t]]),j[t]));h=e[d]=a.any.apply(null,o)}return h};c.ctoken2=function(d){return a.rtoken(Date.CultureInfo.regexPatterns[d])};c.h=a.cache(a.process(a.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),f.hour));c.hh=a.cache(a.process(a.rtoken(/^(0[0-9]|1[0-2])/),f.hour));c.H=a.cache(a.process(a.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),f.hour));c.HH=a.cache(a.process(a.rtoken(/^([0-1][0-9]|2[0-3])/),f.hour));c.m=a.cache(a.process(a.rtoken(/^([0-5][0-9]|[0-9])/),f.minute));
c.mm=a.cache(a.process(a.rtoken(/^[0-5][0-9]/),f.minute));c.s=a.cache(a.process(a.rtoken(/^([0-5][0-9]|[0-9])/),f.second));c.ss=a.cache(a.process(a.rtoken(/^[0-5][0-9]/),f.second));c.hms=a.cache(a.sequence([c.H,c.mm,c.ss],c.timePartDelimiter));c.t=a.cache(a.process(c.ctoken2("shortMeridian"),f.meridian));c.tt=a.cache(a.process(c.ctoken2("longMeridian"),f.meridian));c.z=a.cache(a.process(a.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),f.timezone));c.zz=a.cache(a.process(a.rtoken(/^(\+|\-)\s*\d\d\d\d/),f.timezone));
c.zzz=a.cache(a.process(c.ctoken2("timezone"),f.timezone));c.timeSuffix=a.each(a.ignore(c.whiteSpace),a.set([c.tt,c.zzz]));c.time=a.each(a.optional(a.ignore(a.stoken("T"))),c.hms,c.timeSuffix);c.d=a.cache(a.process(a.each(a.rtoken(/^([0-2]\d|3[0-1]|\d)/),a.optional(c.ctoken2("ordinalSuffix"))),f.day));c.dd=a.cache(a.process(a.each(a.rtoken(/^([0-2]\d|3[0-1])/),a.optional(c.ctoken2("ordinalSuffix"))),f.day));c.ddd=c.dddd=a.cache(a.process(c.ctoken("sun mon tue wed thu fri sat"),function(d){return function(){this.weekday=
d}}));c.M=a.cache(a.process(a.rtoken(/^(1[0-2]|0\d|\d)/),f.month));c.MM=a.cache(a.process(a.rtoken(/^(1[0-2]|0\d)/),f.month));c.MMM=c.MMMM=a.cache(a.process(c.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),f.month));c.y=a.cache(a.process(a.rtoken(/^(\d\d?)/),f.year));c.yy=a.cache(a.process(a.rtoken(/^(\d\d)/),f.year));c.yyy=a.cache(a.process(a.rtoken(/^(\d\d?\d?\d?)/),f.year));c.yyyy=a.cache(a.process(a.rtoken(/^(\d\d\d\d)/),f.year));i=function(){return a.each(a.any.apply(null,arguments),
a.not(c.ctoken2("timeContext")))};c.day=i(c.d,c.dd);c.month=i(c.M,c.MMM);c.year=i(c.yyyy,c.yy);c.orientation=a.process(c.ctoken("past future"),function(d){return function(){this.orient=d}});c.operator=a.process(c.ctoken("add subtract"),function(d){return function(){this.operator=d}});c.rday=a.process(c.ctoken("yesterday tomorrow today now"),f.rday);c.unit=a.process(c.ctoken("minute hour day week month year"),function(d){return function(){this.unit=d}});c.value=a.process(a.rtoken(/^\d\d?(st|nd|rd|th)?/),
function(d){return function(){this.value=d.replace(/\D/g,"")}});c.expression=a.set([c.rday,c.operator,c.value,c.unit,c.orientation,c.ddd,c.MMM]);i=function(){return a.set(arguments,c.datePartDelimiter)};c.mdy=i(c.ddd,c.month,c.day,c.year);c.ymd=i(c.ddd,c.year,c.month,c.day);c.dmy=i(c.ddd,c.day,c.month,c.year);c.date=function(d){return(c[Date.CultureInfo.dateElementOrder]||c.mdy).call(this,d)};c.format=a.process(a.many(a.any(a.process(a.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),
function(d){if(c[d])return c[d];else throw Date.Parsing.Exception(d);}),a.process(a.rtoken(/^[^dMyhHmstz]+/),function(d){return a.ignore(a.stoken(d))}))),function(d){return a.process(a.each.apply(null,d),f.finishExact)});var g={};c.formats=function(d){if(d instanceof Array){for(var h=[],j=0;j<d.length;j++)h.push(g[d[j]]=g[d[j]]||c.format(d[j])[0]);return a.any.apply(null,h)}else return g[d]=g[d]||c.format(d)[0]};c._formats=c.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz",
"d"]);c._start=a.process(a.set([c.date,c.time,c.expression],c.generalDelimiter,c.whiteSpace),f.finish);c.start=function(d){try{var h=c._formats.call({},d);if(h[1].length===0)return h}catch(j){}return c._start.call({},d)}})();Date._parse=Date.parse;Date.parse=function(b){var a=null;if(!b)return null;try{a=Date.Grammar.start.call({},b)}catch(c){return null}return a[1].length===0?a[0]:null};
Date.getParseFunction=function(b){var a=Date.Grammar.formats(b);return function(c){var f=null;try{f=a.call({},c)}catch(i){return null}return f[1].length===0?f[0]:null}};Date.parseExact=function(b,a){return Date.getParseFunction(a)(b)};var SimpleDB,__indexOf=Array.prototype.indexOf||function(b){for(var a=0,c=this.length;a<c;a++)if(this[a]===b)return a;return-1};
SimpleDB=function(){function b(a,c){this.profile=a;this.endpoint=c!=null?c:"sdb.amazonaws.com";this.sdb_base_url="http://"+this.endpoint+"?"}b.prototype.set_profile=function(a){return this.profile=a};b.prototype.default_callback=function(a){return console.log(a)};b.prototype.build_request_url=function(a,c){var f,i;c.Action=a;c.Timestamp=AwsUtils.date_time_format();c.AWSAccessKeyId=this.profile.get_settings().get_access_key();c.Version=this.profile.get_settings().get_version();c.SignatureVersion=1;
c.Signature=AwsUtils.generate_sig(c,this.profile.get_settings().get_secret_key());return this.sdb_base_url+function(){var e;e=[];for(f in c){i=c[f];e.push(f+"="+encodeURIComponent(i))}return e}().join("&")};b.parse_metadata=function(a,c,f){return{meta:{req_id:$("RequestId",a).text(),box_usage:parseFloat($("BoxUsage",a).text()),status:c,req_url:f}}};b.prototype.ajax_request=function(a,c,f,i){if(f==null)f="GET";if(i==null)i=c;return $.ajax({type:f,url:a,success:function(e,g){return c(b.parse_metadata(e,
g,a),e)},error:function(e,g){var d;d=b.parse_metadata(e.responseXML,g,a);d.error={msg:$("Message",e.responseXML).text(),code:$("Code",e.responseXML).text()};return i(d,e.responseXML)},dataType:"xml"})};b.prototype.list_domains=function(a,c,f){var i,e;if(a==null)a=this.default_callback;if(c==null)c=100;if(f==null)f=null;if(__indexOf.call(function(){e=[];for(i=1;i<=100;i++)e.push(i);return e}.apply(this),c)<0)throw"Max domains must be between 1 and 100";c={MaxNumberOfDomains:c};if(f)c.NextToken=f;return this.ajax_request(this.build_request_url("ListDomains",
c),function(g,d){var h;g.error!=null&&a(g);h=[];$("DomainName",d).each(function(){return h.push($(this).text())});g.domains=h;g.next_token=$("NextToken",d).text();return a(g)})};b.prototype.domain_metadata=function(a,c){if(c==null)c=this.default_callback;return this.ajax_request(this.build_request_url("DomainMetadata",{DomainName:a}),function(f,i){f.error!=null&&c(f);f.creation_date_time=$("CreationDateTime",i).text();f.item_count=parseInt($("ItemCount",i).text());f.item_names_size_bytes=parseInt($("ItemNamesSizeBytes",
i).text());f.attribute_name_count=parseInt($("AttributeNameCount",i).text());f.attribute_names_size_bytes=parseInt($("AttributeNamesSizeBytes",i).text());f.attribute_value_count=parseInt($("AttributeValueCount",i).text());f.attribute_values_size_bytes=parseInt($("AttributeValuesSizeBytes",i).text());f.timestamp=$("Timestamp",i).text();return c(f)})};b.prototype.select=function(a,c,f){if(c==null)c=this.default_callback;if(f==null)f=null;a={SelectExpression:a};if(f)a.NextToken=f;return this.ajax_request(this.build_request_url("Select",
a),function(i,e){var g,d,h;i.error!=null&&c(i);h=[];d={};$("Item",e).each(function(){var j;j={attrs:{},name:$("Name:first",$(this)).text()};$("Attribute",$(this)).each(function(){var o,t;o=$("Name",$(this)).text();d[o]=o;t=$("Value",$(this)).text();j.attrs[o]||(j.attrs[o]=[]);return j.attrs[o].push(t)});return h.push(j)});i.items=h;i.attr_names=function(){var j;j=[];for(g in d)j.push(g);return j}();f=$("NextToken",e).text();if(f!=="")i.next_token=f;return c(i)})};b.prototype.get_attributes=function(a,
c,f,i){var e;if(f==null)f=this.default_callback;if(i==null)i=[];c={DomainName:a,ItemName:c};a=0;for(e=i.length;0<=e?a<e:a>e;0<=e?a++:a--)c["AttributeName."+a]=i[a];return this.ajax_request(this.build_request_url("GetAttributes",c),function(g,d){var h;g.error!=null&&f(g);h={};$("Attribute",d).each(function(){var j,o;j=$("Name",$(this)).text();o=$("Value",$(this)).text();h[j]||(h[j]=[]);return h[j].push(o)});g.attributes=h;return f(g)})};b.prototype.put_attributes=function(a,c,f,i){var e,g,d,h,j,o,
t;if(i==null)i=this.default_callback;g={DomainName:a,ItemName:c};h=c=0;for(o=f.length;h<o;h++){a=f[h];e=a.values;j=0;for(t=e.length;j<t;j++){d=e[j];g["Attribute."+c+".Name"]=a.name;g["Attribute."+c+".Value"]=d;if(a.replace&&a.replace===true)g["Attribute."+c+".Replace"]=true;c+=1}}return this.ajax_request(this.build_request_url("PutAttributes",g),function(u){return i(u)})};b.prototype.delete_attributes=function(a,c,f,i){var e,g,d,h,j,o,t;if(i==null)i=this.default_callback;g={DomainName:a,ItemName:c};
h=c=0;for(o=f.length;h<o;h++){a=f[h];if(e=a.values){j=0;for(t=e.length;j<t;j++){d=e[j];g["Attribute."+c+".Name"]=a.name;g["Attribute."+c+".Value"]=d;c+=1}}else{g["Attribute."+c+".Name"]=a.name;c+=1}}return this.ajax_request(this.build_request_url("DeleteAttributes",g),function(u){return i(u)})};b.prototype.batch_delete_attributes=function(a,c,f){var i,e,g,d,h,j,o,t,u,s,l;if(f==null)f=this.default_callback;d={DomainName:a};a=0;for(s=c.length;0<=s?a<s:a>s;0<=s?a++:a--){i=c[a];e=i.item_name;d["Item."+
a+".ItemName"]=e;e=0;l=i.item_attrs;j=0;for(t=l.length;j<t;j++){i=l[j];if(g=i.values){o=0;for(u=g.length;o<u;o++){h=g[o];d["Item."+a+".Attribute."+e+".Name"]=i.name;d["Item."+a+".Attribute."+e+".Value"]=h;e+=1}}else{d["Item."+a+".Attribute."+e+".Name"]=i.name;e+=1}}}return this.ajax_request(this.build_request_url("BatchDeleteAttributes",d),function(m){return f(m)})};b.prototype.batch_put_attributes=function(a,c,f){var i,e,g,d,h,j,o,t,u,s,l;if(f==null)f=this.default_callback;d={DomainName:a};a=0;for(s=
c.length;0<=s?a<s:a>s;0<=s?a++:a--){i=c[a];e=i.item_name;d["Item."+a+".ItemName"]=e;e=0;l=i.item_attrs;j=0;for(t=l.length;j<t;j++){i=l[j];g=i.values;o=0;for(u=g.length;o<u;o++){h=g[o];d["Item."+a+".Attribute."+e+".Name"]=i.name;d["Item."+a+".Attribute."+e+".Value"]=h;if(i.replace&&i.replace===true)d["Item."+a+".Attribute."+e+".Replace"]=true;e+=1}}}return this.ajax_request(this.build_request_url("BatchPutAttributes",d),function(m){return f(m)})};b.prototype.create_domain=function(a,c){if(c==null)c=
this.default_callback;return this.ajax_request(this.build_request_url("CreateDomain",{DomainName:a}),function(f){return c(f)})};b.prototype.delete_domain=function(a,c){if(c==null)c=this.default_callback;return this.ajax_request(this.build_request_url("DeleteDomain",{DomainName:a}),function(f){return c(f)})};return b}();var Storage;
Storage=function(){var b;b={};b.get=function(a,c){var f;if(c==null)c=false;f=localStorage.getItem(a);if(c)f=JSON.parse(f);return f};b.set=function(a,c,f){if(f==null)f=false;if(f)c=JSON.stringify(c);localStorage.setItem(a,c);return c};b.del=function(a){return localStorage.removeItem(a)};return b}();var SHA1;
SHA1=function(){var b,a,c,f,i,e,g,d,h,j,o,t,u,s;f={};j=function(l){return b(a(g(l),l.length*8))};h=function(l,m){var n,k,q,p;n=g(l);if(n.length>16)n=a(n,l.length*8);q=Array(16);p=Array(16);for(k=0;k<16;k++){q[k]=n[k]^909522486;p[k]=n[k]^1549556828}n=a(q.concat(g(m)),512+m.length*8);return b(a(p.concat(n),672))};d=function(l,m){var n,k,q,p,v;if(m==null)m=true;n=m?"0123456789abcdef":"0123456789ABCDEF";q="";k=0;for(v=l.length;0<=v?k<v:k>v;0<=v?k++:k--){p=l.charCodeAt(k);q+=n.charAt(p>>>4&15)+n.charAt(p&
15)}return q};e=function(l,m){var n,k,q,p,v;if(m==null)m="=";p="";q=l.length;for(n=0;n<q;n+=3){v=l.charCodeAt(n)<<16|(n+1<q?l.charCodeAt(n+1)<<8:0)|(n+2<q?l.charCodeAt(n+2):0);for(k=0;k<4;k++)p+=n*8+k*6>l.length*8?m:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(v>>>6*(3-k)&63)}return p};i=function(l,m){var n,k,q,p,v,x,w,y;k=m.length;q=[];n=Array(Math.ceil(l.length/2));p=0;for(v=n.length;0<=v?p<v:p>v;0<=v?p++:p--)n[p]=l.charCodeAt(p*2)<<8|l.charCodeAt(p*2+1);for(;n.length>
0;){x=[];p=w=0;for(y=n.length;0<=y?p<y:p>y;0<=y?p++:p--){w=(w<<16)+n[p];v=Math.floor(w/k);w-=v*k;if(x.length>0||v>0)x[x.length]=v}q[q.length]=w;n=x}n="";for(p=k=q.length-1;k<=0?p<=0:p>=0;k<=0?p++:p--)n+=m.charAt(q[p]);q=Math.ceil(l.length*8/(Math.log(m.length)/Math.log(2)));for(p=k=n.length;k<=q?p<=q:p>=q;k<=q?p++:p--)n=m[0]+n;return n};s=function(l){var m,n,k,q,p;n="";m=0;for(p=l.length;0<=p?m<p:m>p;0<=p?m++:m--){k=l.charCodeAt(m);q=m+1<l.length?l.charCodeAt(m+1):0;if(55296<=k&&k<=56319&&56320<=
q&&q<=57343){k=65536+((k&1023)<<10)+(q&1023);m++}if(k<=127)n+=String.fromCharCode(k);else if(k<=2047)n+=String.fromCharCode(192|k>>>6&31,128|k&63);else if(k<=65535)n+=String.fromCharCode(224|k>>>12&15,128|k>>>6&63,128|k&63);else if(k<=2097151)n+=String.fromCharCode(240|k>>>18&7,128|k>>>12&63,128|k>>>6&63,128|k&63)}return n};g=function(l){var m,n,k;n=Array(l.length>>2);m=0;for(k=n.length;0<=k?m<k:m>k;0<=k?m++:m--)n[m]=0;m=0;for(k=l.length*8;m<k;m+=8)n[m>>5]|=(l.charCodeAt(m/8)&255)<<24-m%32;return n};
b=function(l){var m,n,k;n="";m=0;for(k=l.length*32;m<k;m+=8)n+=String.fromCharCode(l[m>>5]>>>24-m%32&255);return n};a=function(l,m){var n,k,q,p,v,x,w,y,A,B,C,D,E,z,F;l[m>>5]|=128<<24-m%32;l[(m+64>>9<<4)+15]=m;z=Array(80);n=1732584193;k=-271733879;q=-1732584194;p=271733878;v=-1009589776;x=0;for(F=l.length;x<F;x+=16){y=n;A=k;B=q;C=p;D=v;for(w=0;w<80;w++){z[w]=w<16?l[x+w]:c(z[w-3]^z[w-8]^z[w-14]^z[w-16],1);E=o(o(c(n,5),t(w,k,q,p)),o(o(v,z[w]),u(w)));v=p;p=q;q=c(k,30);k=n;n=E}n=o(n,y);k=o(k,A);q=o(q,
B);p=o(p,C);v=o(v,D)}return Array(n,k,q,p,v)};t=function(l,m,n,k){return l<20?m&n|~m&k:l<40?m^n^k:l<60?m&n|m&k|n&k:m^n^k};u=function(l){return l<20?1518500249:l<40?1859775393:l<60?-1894007588:-899497514};o=function(l,m){var n;n=(l&65535)+(m&65535);return(l>>16)+(m>>16)+(n>>16)<<16|n&65535};c=function(l,m){return l<<m|l>>>32-m};f.hex_sha1=function(l){return d(j(s(l)))};f.b64_sha1=function(l){return e(j(s(l)))};f.any_sha1=function(l,m){return i(j(s(l)),m)};f.hex_hmac_sha1=function(l,m){return d(h(s(l),
s(m)))};f.b64_hmac_sha1=function(l,m){return e(h(s(l),s(m)))};f.any_hmac_sha1=function(l,m,n){return i(h(s(l),s(m)),n)};return f}();var AwsUtils;
AwsUtils=function(){var b,a,c,f,i;i=function(e){e=e.toString();if(e.length<2)e="0"+e;return e};f=function(e){return[e.getUTCFullYear(),i(e.getUTCMonth()+1),i(e.getUTCDate())].join("-")};b=function(e){return[i(e.getUTCHours()),i(e.getUTCMinutes()),i(e.getUTCSeconds())].join(":")};c=function(e,g){return e===g?0:e.toLowerCase()>g.toLowerCase()?1:-1};a={};a.date_time_format=function(e){if(e==null)e=new Date;return""+f(e)+"T"+b(e)+".000Z"};a.generate_sig=function(e,g){var d,h,j;h=function(){var o;o=[];
for(d in e)o.push(d);return o}();h.sort(c);j=function(){var o,t,u;u=[];o=0;for(t=h.length;o<t;o++){d=h[o];u.push(""+d+e[d])}return u}();return SHA1.b64_hmac_sha1(g,j.join(""))};return a}();var Settings;
Settings=function(){function b(a,c,f,i){this.access_key=a;this.secret_key=c;this.region=f!=null?f:"us-east-1";this.version=i!=null?i:"2009-04-15"}b.prototype.use_access_key=function(a){this.access_key=a;return this};b.prototype.use_secret_key=function(a){this.secret_key=a;return this};b.prototype.use_region=function(a){this.region=a;return this};b.prototype.use_version=function(a){this.version=a;return this};b.prototype.get_access_key=function(){return this.access_key};b.prototype.get_secret_key=
function(){return this.secret_key};b.prototype.get_region=function(){return this.region};b.prototype.get_version=function(){return this.version};b.prototype.to_json=function(){return{access_key:this.access_key,secret_key:this.secret_key,region:this.region,version:this.version}};b.from_json=function(a){return a?new b(a.access_key,a.secret_key,a.region,a.version):null};return b}();})();
